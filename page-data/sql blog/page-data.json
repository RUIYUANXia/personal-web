{"componentChunkName":"component---src-templates-post-tsx","path":"/sql blog","result":{"data":{"mdx":{"id":"b9295ec1-2062-5a5d-bb2a-95b202acc713","frontmatter":{"title":"Improve your SQL skills!","description":"Let's learn and practice using SQL!","formattedPublicationDate":"July 26, 2023","publicationDate":"2023-07-26","formattedUpdatedAtDate":"July 26, 2023","updatedAtDate":"2023-07-26","banner":{"publicURL":"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/banner.png","childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB2ElEQVQY0x3NW2/SUADA8SaLiTfa09NzemhLy8qlF7pBYa1uHR0bWBgKblymMFjchsLQRBaNmnhLFn000yzxxcuLr34CffUb+InsTP6vv/wphmgMn+HEwrzsOcly07r1cO3Op9H499nx35/jP19H32c7L2o3+3ZQ0jaMmCOJeYR1CCTESBR9jk1WKsSUVdvq1paGeyu7T4PW6f7el0d3P08PTnqPJxv3Wm7fs9q61hCk6wgZIcYhZqJGiMMwNlOK53nTeqHb04uT5Z3Zjd1Z9fCwNG67g4o9yppbiugiVoWMzLHyOQYkzfChz7DEEtWqppZcPSgGBw2/v53favmvbmeHfqpqz68bap2HSQ6oEIT4/5kmOo2tCJeh0QIUlgW5nDA64rPX2vRdbvu9k7nfWun7qbIk+CLKIeIglIO0AoHCMQoVIVksOXJiDZJrWPL4eIPEa+DoJXP8jdv/QTqn1uAkszSMkiJCNiZOlBQEtIDYNMcmKEZwsOLz8QpWAhSrR5WmrHfZ+uRy+8Pc8Nel5llidSAlNzFX5PnQuxjaPFzEwMRAo2hh/QopXyWbSOlAuSfrD0j6KKI+uRB/M6d9vJh8a9jPY/EhgDWMKjwuYeDyIE/AosCY/wACfF+QNulc7gAAAABJRU5ErkJggg==","aspectRatio":2.5,"src":"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/ee604/banner.png","srcSet":"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/69585/banner.png 200w,\n/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/497c6/banner.png 400w,\n/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/ee604/banner.png 800w,\n/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/f3583/banner.png 1200w,\n/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/5707d/banner.png 1600w,\n/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/2685c/banner.png 2560w","sizes":"(max-width: 800px) 100vw, 800px"}}},"slug":"/sql blog","categories":["SQL"]},"fields":{"editLink":"https://github.com/RUIYUANXia/personal-web/edit/main/content/blog/sql-blog/index.md"},"body":"var _excluded = [\"components\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n/* @jsxRuntime classic */\n/* @jsx mdx */\n\nvar _frontmatter = {\n  \"slug\": \"/sql blog\",\n  \"date\": \"2023-07-26\",\n  \"updatedAt\": \"2023-07-26\",\n  \"title\": \"Improve your SQL skills!\",\n  \"description\": \"Let's learn and practice using SQL!\",\n  \"categories\": [\"SQL\"],\n  \"banner\": \"./images/banner.png\"\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n    props = _objectWithoutProperties(_ref, _excluded);\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, mdx(\"span\", {\n    parentName: \"p\",\n    \"className\": \"gatsby-resp-image-wrapper\",\n    \"style\": {\n      \"position\": \"relative\",\n      \"display\": \"block\",\n      \"marginLeft\": \"auto\",\n      \"marginRight\": \"auto\",\n      \"maxWidth\": \"800px\"\n    }\n  }, \"\\n      \", mdx(\"a\", {\n    parentName: \"span\",\n    \"className\": \"gatsby-resp-image-link\",\n    \"href\": \"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/c7a69/banner.png\",\n    \"style\": {\n      \"display\": \"block\"\n    },\n    \"target\": \"_blank\",\n    \"rel\": \"noopener\"\n  }, \"\\n    \", mdx(\"span\", {\n    parentName: \"a\",\n    \"className\": \"gatsby-resp-image-background-image\",\n    \"style\": {\n      \"paddingBottom\": \"40%\",\n      \"position\": \"relative\",\n      \"bottom\": \"0\",\n      \"left\": \"0\",\n      \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAB2ElEQVQY0x3NW2/SUADA8SaLiTfa09NzemhLy8qlF7pBYa1uHR0bWBgKblymMFjchsLQRBaNmnhLFn000yzxxcuLr34CffUb+InsTP6vv/wphmgMn+HEwrzsOcly07r1cO3Op9H499nx35/jP19H32c7L2o3+3ZQ0jaMmCOJeYR1CCTESBR9jk1WKsSUVdvq1paGeyu7T4PW6f7el0d3P08PTnqPJxv3Wm7fs9q61hCk6wgZIcYhZqJGiMMwNlOK53nTeqHb04uT5Z3Zjd1Z9fCwNG67g4o9yppbiugiVoWMzLHyOQYkzfChz7DEEtWqppZcPSgGBw2/v53favmvbmeHfqpqz68bap2HSQ6oEIT4/5kmOo2tCJeh0QIUlgW5nDA64rPX2vRdbvu9k7nfWun7qbIk+CLKIeIglIO0AoHCMQoVIVksOXJiDZJrWPL4eIPEa+DoJXP8jdv/QTqn1uAkszSMkiJCNiZOlBQEtIDYNMcmKEZwsOLz8QpWAhSrR5WmrHfZ+uRy+8Pc8Nel5llidSAlNzFX5PnQuxjaPFzEwMRAo2hh/QopXyWbSOlAuSfrD0j6KKI+uRB/M6d9vJh8a9jPY/EhgDWMKjwuYeDyIE/AosCY/wACfF+QNulc7gAAAABJRU5ErkJggg==')\",\n      \"backgroundSize\": \"cover\",\n      \"display\": \"block\"\n    }\n  }), \"\\n  \", mdx(\"picture\", {\n    parentName: \"a\"\n  }, \"\\n        \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/a5e6d/banner.webp 200w\", \"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/2276a/banner.webp 400w\", \"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/cf465/banner.webp 800w\", \"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/cbd37/banner.webp 1200w\", \"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/64296/banner.webp 1600w\", \"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/d5269/banner.webp 2560w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"type\": \"image/webp\"\n  }), \"\\n        \", mdx(\"source\", {\n    parentName: \"picture\",\n    \"srcSet\": [\"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/56d15/banner.png 200w\", \"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/d9f49/banner.png 400w\", \"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/78d47/banner.png 800w\", \"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/64756/banner.png 1200w\", \"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/42cbc/banner.png 1600w\", \"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/c7a69/banner.png 2560w\"],\n    \"sizes\": \"(max-width: 800px) 100vw, 800px\",\n    \"type\": \"image/png\"\n  }), \"\\n        \", mdx(\"img\", {\n    parentName: \"picture\",\n    \"className\": \"gatsby-resp-image-image\",\n    \"style\": {\n      \"width\": \"100%\",\n      \"height\": \"100%\",\n      \"margin\": \"0\",\n      \"verticalAlign\": \"middle\",\n      \"position\": \"absolute\",\n      \"top\": \"0\",\n      \"left\": \"0\",\n      \"boxShadow\": \"inset 0px 0px 0px 400px none\"\n    },\n    \"src\": \"/personal-web/static/5758db1c1bd4ebea47b8017a4fa74831/78d47/banner.png\",\n    \"alt\": \"banner\",\n    \"title\": \"\"\n  }), \"\\n      \"), \"\\n  \"), \"\\n    \")), mdx(\"h2\", null, \"Motivation\"), mdx(\"p\", null, \"In this blog, let's walk through some basic knowledge relate to SQL.\"), mdx(\"h1\", null, \"SQL\"), mdx(\"p\", null, \"7-day time window for average and sum\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"mysql\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-mysql\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-mysql\"\n  }, \"WITH a as (\\n  SELECT visited_on, SUM(amount) as day_sum FROM Customer GROUP BY visited_on\\n),\\nb as (\\n  SELECT visited_on, SUM(amount) as day_sum FROM Customer GROUP BY visited_on\\n)\\nSELECT a.visited_on, SUM(b.day_sum) as amount, ROUND(AVG(b.day_sum),2) as average_amount\\nFROM a, b\\nWHERE DATEDIFF(a.visited_on, b.visited_on) BETWEEN 0 AND 6\\nGROUP BY a.visited_on\\nHAVING COUNT(b.visited_on) = 7\\nORDER BY a.visited_on\"))), mdx(\"p\", null, \"factory machine average time\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"mysql\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-mysql\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-mysql\"\n  }, \"SELECT a1.machine_id, \\nROUND(AVG(a2.timestamp - a1.timestamp),3) AS processing_time\\nFROM Activity a1 JOIN Activity a2 ON \\n  (a1.machine_id = a2.machine_id AND\\n  a1.process_id = a2.process_id AND\\n  a1.timestamp < a2.timestamp)\\nGROUP BY a1.machine_id\"))), mdx(\"p\", null, \"handle null value if not making any requests using if\"), mdx(\"div\", {\n    \"className\": \"gatsby-highlight\",\n    \"data-language\": \"sql\"\n  }, mdx(\"pre\", {\n    parentName: \"div\",\n    \"className\": \"language-sql\"\n  }, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-sql\"\n  }, mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"SELECT\"), \" s\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"user_id\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"ROUND\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"SUM\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"if\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"action\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token string\"\n  }, \"'confirmed'\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"1\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"0\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"/\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token function\"\n  }, \"COUNT\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \"(\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"*\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \",\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token number\"\n  }, \"2\"), mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \")\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"as\"), \" confirmation_rate\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"FROM\"), \" Signups s \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"LEFT\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"JOIN\"), \" Confirmations c \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"on\"), \" s\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"user_id \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token operator\"\n  }, \"=\"), \" c\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"user_id\\n\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"GROUP\"), \" \", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token keyword\"\n  }, \"BY\"), \" s\", mdx(\"span\", {\n    parentName: \"code\",\n    \"className\": \"token punctuation\"\n  }, \".\"), \"user_id\"))), mdx(\"h1\", null, \"SQL injection\"), mdx(\"p\", null, \"SQL injection is a security vulnerability that occurs when an attacker can manipulate or inject malicious SQL code into an application's database query. It happens when user-supplied input is directly concatenated into SQL statements without proper sanitization or parameterization.\"), mdx(\"p\", null, \"An attacker can potentially access, modify, or delete data from the database, execute unauthorized commands, or even gain control of the entire application or underlying server.\"));\n}\n;\nMDXContent.isMDXComponent = true;"}},"pageContext":{"id":"b9295ec1-2062-5a5d-bb2a-95b202acc713","prev":null,"next":{"id":"f0d7463b-9c41-5636-99c2-b312d7aba925","excerpt":"Motivation In this blog, let's walk through some basic types of coding questions during an interview. Linked List Implementaion Merge Sorted Array Factorial palindrome COUNT word frequency MAX subarray sum Reverse Linked List Find Median of twoâ€¦","fields":{"title":"Coding Practice in Python!","slug":"/coding blog","categories":["python"]}}}},"staticQueryHashes":["764694655"]}